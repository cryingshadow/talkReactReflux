\documentclass{beamer}

\usepackage{xltxtra}
\usepackage{graphicx}
%\usepackage[utf8]{inputenc}
\usepackage{fontspec}
\setmainfont{Verdana}
\setsansfont{Verdana}
\usepackage{tikz}
\usepackage{comment}
\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,fit,positioning,automata,calc,shapes.arrows,fadings}

\include{commands}

\input{style.tex}

\begin{document}

\title[React and Reflux]{REACT AND REFLUX:}
\subtitle{Components, Actions, Stores, and State}
\author[P.\ Baues, T.\ Str\"oder]{Philip Baues and Thomas Str\"oder}
\date{28./29.\ September 2017}
\newcommand{\location}{\texttt{code.talks} Hamburg}

{\setbeamercolor{background canvas}{bg=metroblue}
\begin{frame}[plain]
\centering
\includegraphics{metro2.png}
\end{frame}
}

{\setbeamercolor{background canvas}{bg=metroblue}
\begin{frame}[plain]
\titlepage
\end{frame}
}

\begin{comment}
Abstract:
React is currently one of the most popular ingredients of modern web applications. It is a component-based JavaScript library supporting the decomposition of big web applications into small parts, especially following principles like single responsibility and separation of concerns. However, on its own it lacks concise support for transversal state handling when parts of an application should alter the state of another part and these parts are not in a father-child-like relationship. To this end, the Reflux JavaScript library adds actions and stores for state handling.

In this talk, we will have a look at general patterns how to use React components together with Reflux stores and actions to build a responsive web application. Here, the focus is on state: When and where to (not) have it and how to deal with it using the facilities React and Reflux are offering. We illustrate these concepts with a small web shop example. In addition to that, we also address common mistakes and how to avoid them.
\end{comment}

\begin{frame}\frametitle{Motivation - Why React?}
\centering
\begin{tikzpicture}
\node[anchor=north west] (text1) at (0,6.1) {declarative view abstraction};
\fill[draw=metroblue,fill=metroblue!50,rounded corners=10] (6,0) rectangle (10,3);
\node[anchor=north west] at (6.1,2.9) {Component};
\fill[draw=metroyellow,fill=metroyellow!50,rounded corners=10] (6.9,0.1) rectangle (9.9,2.1);
\node[anchor=north west] at (7,2) {\small Component};
\fill[draw=metroblue,fill=metroblue!50,rounded corners=10] (6,3.1) rectangle (10,6.1);
\node[anchor=north west] at (6.1,6) {Component};
\node (text2) [below=of text1.west, anchor=west] {decoupling};
\node (text3) [below=of text2.west, anchor=west] {easy testing};
\node (text4) [below=of text3.west, anchor=west] {fast rendering};
\end{tikzpicture}
\end{frame}

\begin{frame}\frametitle{Components}
\centering
\tikzfading[name=fade left,
right color=transparent!0,
left color=transparent!100]
\begin{tikzpicture}
\node (component) {Component};
\node (proparrow) [above left=0.1 of component,single arrow,shape border uses incircle,shape border rotate=315,
fill=metroblue,minimum height=2cm,path fading=fade left,fading transform={rotate=315}] {};
\node [above left=0.1 of proparrow] {\phantom{t}props};
\node (statearrow) [above right=0.1 of component,single arrow,shape border uses incircle,shape border rotate=225,
fill=red,minimum height=2cm,path fading=fade left,fading transform={rotate=225}] {};
\node [above right=0.1 of statearrow] {state\phantom{p}};
\node (renderarrow) [below=0.1 of component,single arrow,shape border uses incircle,shape border rotate=270,
fill=mygreen,minimum height=2cm,path fading=fade left,fading transform={rotate=270}] {};
\node [below=0.1 of renderarrow] {rendering};
%\node [above=of component] {React vs. Reflux};
%\node [below left=of component] {only interaction logic};
%\node [below right=of component] {treat state as read-only};
%lifecycle
\end{tikzpicture}
\end{frame}

\begin{frame}\frametitle{Data Flow}
\centering
\begin{tikzpicture}
[node/.style={rectangle,draw=black,thick,inner sep=5pt},
edge/.style={->,thick},
connect/.style={->,thick,dashed}]
\node[node] (action) {Action};
\node[node] (component) [below left=2 of action] {Component};
\node[node] (store) [below right=2 of action] {Store};
\draw (component) edge[edge,in=180,out=90] node[auto] {calls} (action);
\draw (action) edge[edge,in=90,out=0] node[auto] {executes} (store);
\draw (store) edge[edge,in=270,out=270] node[auto] {sets state} (component);
\draw (component) edge[connect,bend right=30] node[auto,swap] {sets store(s)} (store);
\draw (store) edge[connect,in=270,out=180] node[auto] {listens to} (action);
\end{tikzpicture}
\end{frame}

\begin{frame}\frametitle{Actions}
\centering
\begin{tikzpicture}
\node (action) {Action};
\node [below=of action] {function};
\node [below left=of action] {called by component};
\node [below right=of action] {transports payload};
\end{tikzpicture}
\end{frame}

\begin{frame}\frametitle{Stores}
\centering
\begin{tikzpicture}
\node (store) {Store};
\node [below=of store] {state handler};
\node [below left=of store] {listens to actions};
\node [below right=of store] {sets state of components};
\node [right=of store] {only data logic};
\end{tikzpicture}
\end{frame}

\begin{frame}\frametitle{Introduction}
\centering
\begin{itemize}
\item Historically grown company and IT-systems
\item Digital readiness initiative to renew whole IT landscape
\item \textit{Betty} as first customer journey and system
\item A lot of different other applications in development\\
(Driver App, sales and more, customer master data, â€¦)
\end{itemize}
\end{frame}

\begin{frame}\frametitle{What is Betty}
\centering
\begin{center}
\includegraphics[width=.85\linewidth,height=.85\textheight,keepaspectratio]{Betty.png}
\end{center}
\end{frame}

\end{document}

